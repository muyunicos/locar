/* admin-menues.css - v9 - Arquitectura de Controles Flotantes */

/* Resaltado del ítem activo. Ahora se aplica sobre .item y .c-container */
.item.is-active-admin-item,
.c-container.is-active-admin-item {
    background-color: #f0f9ff;
    border-color: #3b82f6 !important; /* Usamos !important para sobreescribir otros bordes */
}

/* --- PANEL DE CONTROLES FLOTANTE --- */
#admin-floating-controls {
    position: absolute; /* Se posiciona relativo al body */
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: #fff;
    padding: 5px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 50;
    
    /* Por defecto está oculto y fuera de la pantalla */
    visibility: hidden;
    opacity: 0;
    transform: scale(0.95);
    transition: opacity 0.15s ease, visibility 0.15s ease, transform 0.15s ease;
}

#admin-floating-controls.visible {
    visibility: visible;
    opacity: 1;
    transform: scale(1);
}

.item-drag-handle {
    cursor: grab;
    color: #a1a1aa;
    font-size: 20px;
    padding: 5px;
}
.item-drag-handle:active {
    cursor: grabbing;
}


/* --- FEEDBACK VISUAL DE ARRASTRE --- */
.item.is-dragging,
.c-container.is-dragging {
    opacity: 0.4;
}

.drop-placeholder {
    background-color: rgba(59, 130, 246, 0.05);
    border: 1px dashed rgba(59, 130, 246, 0.4);
    border-radius: 8px;
    margin: 4px 0;
    pointer-events: none;
}

/* El resto de estilos para popups, placeholders de imagen, etc., no cambian */
.item-actions-panel { position: relative; }
.item-actions-panel .action-button { background: none; border: none; cursor: pointer; font-size: 18px; padding: 5px; }
.item-actions-panel .options-popup { visibility: hidden; opacity: 0; transform: translateY(-50%) scale(0.95); transition: all 0.15s ease-out; position: absolute; left: 100%; top: 50%; background-color: #fff; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 10; padding: 5px; display: flex; flex-direction: column; gap: 4px; margin-left: 12px; }
.item-actions-panel.is-open .options-popup { visibility: visible; opacity: 1; transform: translateY(-50%) scale(1); }
.options-popup button { background-color: #f4f4f5; border: 1px solid #e4e4e7; border-radius: 6px; cursor: pointer; font-size: 14px; padding: 6px 8px; display: flex; align-items: center; gap: 5px; transition: background-color 0.2s; white-space: nowrap; }
.options-popup button:hover { background-color: #e4e4e7; }
.options-popup button.danger:hover { background-color: #fee2e2; color: #ef4444; border-color: #fca5a5; }
[contenteditable=true][data-placeholder]:empty:before { content: attr(data-placeholder); color: #a1a1aa; font-style: italic; pointer-events: none; }
.item-imagen-wrapper.is-placeholder { background-color: #f4f4f5; display: flex; align-items: center; justify-content: center; border: 1px dashed #d4d4d8; }
.is-admin-hidden { opacity: 0.5; }